<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>Water color palette composer</title>

<style>
.frame {
  fill: none;
  stroke: #000;
}

.axis text {
  font: 10px sans-serif;
}

.axis line,
.axis circle {
  fill: none;
  stroke: #777;
  stroke-dasharray: 1,4;
}

.axis :last-of-type circle {
  stroke: #333;
  stroke-dasharray: none;
}

.line {
  fill: none;
  stroke: red;
  stroke-width: 1.5px;
}
</style>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<script defer='true'>
var width = 300,
    height = 300,
    radius = Math.min(width, height) / 2 - 30;

var hpdata = new Array();

d3.tsv('hpraw.csv')
  .row(function(d) { hpdata.push(d); })
  .get();

var r = d3.scale.linear()
  .domain([0, 100])
  .range([0, radius]);

var svg, gr;
function setupSVG() {
  svg = d3.select('#colorwheel')
    .append('svg')
    .attr('width', width)
    .attr('height', height)
    .append('g')
    .attr('transform', 'translate(' + width/2 + ',' + height/2 + ')');

  gr = svg.append('g')
    .attr('class', 'r axis')
    .selectAll('g')
    .data(r.ticks(5).slice(1))
    .enter().append('g');

  gr.append('circle')
    .attr('r', r);
}

var pts;
function drawSelected() {
  pts = svg.append('g')
    .attr('class', 'colpts')
    .selectAll('g')
    .data(hpdata)
    .enter()
    .append('g');
  pts.append('circle')
    .attr('r', 2)
    .attr('cx', function (d) { return Math.cos(d.HA)*d.VR; })
    .attr('cy', function (d) { return Math.sin(d.HA)*d.VR; })
    .style('fill', function(d) { return d3.hsl(d.HA, 1.0, d.VR/100.0).toString(); });
}

function myOnload() {
  console.log('myOnload')
  setupSVG();
}
window.onload = myOnload;

</script>

</head>

<body>
<h1>Color wheel construction from HandPrint</h1>

<div id="colorwheel">
</div>
  

<hr>
<address></address>
<!-- hhmts start -->Last modified: Sat Dec 20 13:38:52 CET 2014 <!-- hhmts end -->
</body> </html>
